<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Shopping Cart | Tudung Kamu</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Fonts & CSS -->
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500&family=Playfair+Display:wght@500;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="style.css">

<style>
:root {
    --maroon: #7b1e3a;
    --pink: #f4c6d7;
    --beige: #f8f1ec;
    --dark: #2c2c2c;
}

body {
    font-family: 'Poppins', sans-serif;
    background: var(--beige);
    margin:0;
    padding:0;
}

.container {
    max-width: 900px;
    margin: 40px auto;
    padding: 20px;
    background:#fff;
    border-radius:20px;
    box-shadow:0 10px 30px rgba(0,0,0,0.05);
}

h1 {
    text-align:center;
    color: var(--maroon);
    margin-bottom:30px;
}

table {
    width:100%;
    border-collapse: collapse;
    margin-bottom: 30px;
}

th, td {
    padding:12px;
    border:1px solid #E8CFCF;
    text-align:left;
}

th {
    background-color: var(--maroon);
    color: var(--beige);
}

tbody tr:nth-child(even) { background:#F8EAEA; }
tbody tr:nth-child(odd) { background:#FFF7EE; }
tbody tr:hover { background:#F1DADA; }

button {
    background: var(--maroon);
    color: var(--beige);
    border: none;
    padding: 8px 16px;
    border-radius: 20px;
    cursor: pointer;
}

button:hover {
    background: #5f162d;
}

.payment-section {
    background: var(--pink);
    padding: 20px;
    border-radius: 15px;
    margin-top: 20px;
}

.payment-section h2 {
    color: var(--maroon);
    margin-bottom: 15px;
}

.payment-section label {
    display:block;
    margin:10px 0 5px;
}

.payment-section select,
.payment-section input {
    width:100%;
    padding:10px;
    border-radius:12px;
    border:1px solid #ccc;
    margin-bottom:15px;
}

#payNowBtn {
    width: 100%;
    padding: 14px;
    font-size: 16px;
}
</style>
</head>
<body>

<div class="container">
    <h1>My Cart</h1>
    <table id="cartTable">
        <thead>
            <tr>
                <th>Product Name</th>
                <th>Price (RM)</th>
                <th>Remove</th>
            </tr>
        </thead>
        <tbody></tbody>
    </table>

    <h3 id="totalPrice">Total: RM0</h3>

    <!-- Payment Section -->
    <div class="payment-section">
        <h2>Payment Options</h2>

        <label for="paymentMethod">Select Payment Method:</label>
        <select id="paymentMethod">
            <option value="credit">Credit/Debit Card</option>
            <option value="paypal">PayPal</option>
            <option value="cod">Cash on Delivery</option>
        </select>

        <div id="cardDetails">
            <label for="cardNumber">Card Number:</label>
            <input type="text" id="cardNumber" placeholder="1234 5678 9012 3456">
            <label for="cardExpiry">Expiry Date:</label>
            <input type="text" id="cardExpiry" placeholder="MM/YY">
            <label for="cardCVC">CVC:</label>
            <input type="text" id="cardCVC" placeholder="123">
        </div>

        <button id="payNowBtn">Pay Now</button>
    </div>
</div>

<script>
let cart = JSON.parse(localStorage.getItem('cart')) || [];
const tbody = document.querySelector('#cartTable tbody');
const totalPriceEl = document.getElementById('totalPrice');

function renderCart() {
    tbody.innerHTML = '';
    let total = 0;
    cart.forEach((item,index)=>{
        total += parseFloat(item.price);
        const row = document.createElement('tr');
        row.innerHTML = `
            <td>${item.name}</td>
            <td>${item.price}</td>
            <td><button onclick="removeItem(${index})">Remove</button></td>
        `;
        tbody.appendChild(row);
    });
    totalPriceEl.innerText = "Total: RM" + total.toFixed(2);
}

function removeItem(index) {
    cart.splice(index,1);
    localStorage.setItem('cart', JSON.stringify(cart));
    renderCart();
}

// Payment method show/hide card details
const paymentMethod = document.getElementById('paymentMethod');
const cardDetails = document.getElementById('cardDetails');
paymentMethod.addEventListener('change', ()=>{
    if(paymentMethod.value === 'credit'){
        cardDetails.style.display = 'block';
    } else {
        cardDetails.style.display = 'none';
    }
});

// Pay Now button
document.getElementById('payNowBtn').addEventListener('click', ()=>{
    if(cart.length === 0){
        alert("Your cart is empty!");
        return;
    }
    const method = paymentMethod.value;
    alert(`Payment successful!\nMethod: ${method}\nTotal: ${totalPriceEl.innerText}`);
    // Clear cart
    cart = [];
    localStorage.setItem('cart', JSON.stringify(cart));
    renderCart();
});

renderCart();
cardDetails.style.display = 'block'; // default to show
</script>

</body>
</html>
